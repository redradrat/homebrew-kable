# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Kable < Formula
  desc "Manage kubernetes resource. GitOps galore!"
  homepage "https://github.com/redradrat/kable"
  version "0.8.4"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/redradrat/kable/releases/download/v0.8.4/kable_0.8.4_Darwin_arm64.tar.gz"
      sha256 "7cda2839dc8388cb66042dabec40bcc9262053d272582b7771e4d143ece34254"

      def install
        bin.install "kable"
        output = Utils.popen_read("#{bin}/kable completion bash")
        (bash_completion/"kable").write output
        output = Utils.popen_read("#{bin}/kable completion zsh")
        (zsh_completion/"_kable").write output
        output = Utils.popen_read("#{bin}/kable completion fish")
        (fish_completion/"kable.fish").write output
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/redradrat/kable/releases/download/v0.8.4/kable_0.8.4_Darwin_x86_64.tar.gz"
      sha256 "acddc353f545eb54e670f3812683b1f25689cca54f4f16c72769966024c93974"

      def install
        bin.install "kable"
        output = Utils.popen_read("#{bin}/kable completion bash")
        (bash_completion/"kable").write output
        output = Utils.popen_read("#{bin}/kable completion zsh")
        (zsh_completion/"_kable").write output
        output = Utils.popen_read("#{bin}/kable completion fish")
        (fish_completion/"kable.fish").write output
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/redradrat/kable/releases/download/v0.8.4/kable_0.8.4_Linux_arm64.tar.gz"
      sha256 "ef3c9dcd42e7a0f5a6fe32ead7c9251802d5f403a933b6e56f592457b577b742"

      def install
        bin.install "kable"
        output = Utils.popen_read("#{bin}/kable completion bash")
        (bash_completion/"kable").write output
        output = Utils.popen_read("#{bin}/kable completion zsh")
        (zsh_completion/"_kable").write output
        output = Utils.popen_read("#{bin}/kable completion fish")
        (fish_completion/"kable.fish").write output
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/redradrat/kable/releases/download/v0.8.4/kable_0.8.4_Linux_x86_64.tar.gz"
      sha256 "ebb1ffca363d1903bbaf0681bc3871cad700bf347b6e91e77601362eff243838"

      def install
        bin.install "kable"
        output = Utils.popen_read("#{bin}/kable completion bash")
        (bash_completion/"kable").write output
        output = Utils.popen_read("#{bin}/kable completion zsh")
        (zsh_completion/"_kable").write output
        output = Utils.popen_read("#{bin}/kable completion fish")
        (fish_completion/"kable.fish").write output
      end
    end
  end

  depends_on "git"
  depends_on "go-jsonnet"
  depends_on "jsonnet-bundler"
end
