# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Kable < Formula
  desc "Manage kubernetes resource. GitOps galore!"
  homepage "https://github.com/redradrat/kable"
  version "0.8.6"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/redradrat/kable/releases/download/v0.8.6/kable_0.8.6_Darwin_x86_64.tar.gz"
      sha256 "0d98313ad5ad35205c4c9a2f05a90e21911aea1bc5124aa14cee41ba3ec5eeb4"

      def install
        bin.install "kable"
        output = Utils.popen_read("#{bin}/kable completion bash")
        (bash_completion/"kable").write output
        output = Utils.popen_read("#{bin}/kable completion zsh")
        (zsh_completion/"_kable").write output
        output = Utils.popen_read("#{bin}/kable completion fish")
        (fish_completion/"kable.fish").write output
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/redradrat/kable/releases/download/v0.8.6/kable_0.8.6_Darwin_arm64.tar.gz"
      sha256 "894e267844dad0c81de238c3b4e8e21e0bdf2a0c215e6363926f9184a260d0eb"

      def install
        bin.install "kable"
        output = Utils.popen_read("#{bin}/kable completion bash")
        (bash_completion/"kable").write output
        output = Utils.popen_read("#{bin}/kable completion zsh")
        (zsh_completion/"_kable").write output
        output = Utils.popen_read("#{bin}/kable completion fish")
        (fish_completion/"kable.fish").write output
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/redradrat/kable/releases/download/v0.8.6/kable_0.8.6_Linux_arm64.tar.gz"
      sha256 "815267082ffb9f095bf2f2b07be2f047da97641d2bdf599e4daacf10091daabc"

      def install
        bin.install "kable"
        output = Utils.popen_read("#{bin}/kable completion bash")
        (bash_completion/"kable").write output
        output = Utils.popen_read("#{bin}/kable completion zsh")
        (zsh_completion/"_kable").write output
        output = Utils.popen_read("#{bin}/kable completion fish")
        (fish_completion/"kable.fish").write output
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/redradrat/kable/releases/download/v0.8.6/kable_0.8.6_Linux_x86_64.tar.gz"
      sha256 "c344658038bb26f5d5418da763ef4689af3da4d711e509f44ec9dd8497a38114"

      def install
        bin.install "kable"
        output = Utils.popen_read("#{bin}/kable completion bash")
        (bash_completion/"kable").write output
        output = Utils.popen_read("#{bin}/kable completion zsh")
        (zsh_completion/"_kable").write output
        output = Utils.popen_read("#{bin}/kable completion fish")
        (fish_completion/"kable.fish").write output
      end
    end
  end

  depends_on "git"
  depends_on "go-jsonnet"
  depends_on "jsonnet-bundler"
end
